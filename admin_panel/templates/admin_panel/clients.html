{% extends 'admin_panel/base_2b.html' %}
{%  load static %}
{# Load the tag library#}
{% load django_bootstrap5 %}
{# Load CSS and JavaScript#}
{% bootstrap_css %}
{% bootstrap_javascript %}
{# Display django.contrib.messages as Bootstrap alerts#}
{% bootstrap_messages %}
{# Read the documentation for more information#}

{% block head_2b %}
    <link rel="stylesheet" href="{% static 'admin_panel/adminlte/plugins/select2/css/select2.css' %}">
    <link rel="stylesheet" href="{% static 'admin_panel/client/client.css' %}">
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />
    <link rel="stylesheet" href="https://cdn.datatables.net/1.13.4/css/jquery.dataTables.min.css">

{% endblock %}
{% block name %}
    Владельцы квартир
 {% endblock %}
{% block navigation %}
    <li class="breadcrumb-item active">Владельцы квартир</li>
{% endblock %}
{% block action_list %}
    <button class="btn btn-success dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false">
        Выберите действие
    </button>
    <ul class="dropdown-menu">
        <li><a class="dropdown-item" href="#">Добавить владельца квартиры</a></li>
        <li><a class="dropdown-item" href="#">Отправить сообщение должникам</a></li>
        <li><a class="dropdown-item" href="#">Отправить приглашение</a></li>
    </ul>
{% endblock %}

{% block card_body %}
   <table id="client" class="table border-0 table-bordered table-hover  linkedRow w-100">
      <thead>
        <tr>
          <th>ID</th>
          <th>ФИО</th>
          <th>Телефон</th>
          <th>Email</th>
          <th>Дом</th>
          <th>Квартира</th>
          <th>Добавлен</th>
          <th>Статус</th>
          <th>Есть долг</th>
          <th></th>
        </tr>
        <tr class="border-0" >
           <td style="min-width: 150px"><input type="text" class="form-control rounded-0"></td>
           <td style="min-width: 150px"><input type="text" class="form-control rounded-0"></td>
           <td style="min-width: 150px"><input type="text" class="form-control rounded-0"></td>
           <td style="min-width: 150px"><input type="text" class="form-control rounded-0"></td>
           <td style="min-width: 150px">
               <div class="form-group mb-0" >
                    <select class="form-control select2-simple select2-success rounded-0"  data-dropdown-css-class="select2-success"  tabindex="-1" aria-hidden="true" >
                        <option></option>
                        <option>Дом 1</option>
                        <option>Дом 2</option>
                    </select>
               </div>
          </td>
          <td style="min-width: 150px"><input type="text" class="form-control rounded-0"></td>
          <td style="min-width: 150px"><input type="text" class="singledatepicker" name="singledatepicker" value="" /></td>

          <td style="min-width: 150px">
               <div class="form-group mb-0" >
                    <select class="form-control select2-simple select2-success rounded-0"  data-dropdown-css-class="select2-success"  tabindex="-1" aria-hidden="true" >
                        <option></option>
                        <option>Активен</option>
                        <option>Новый</option>
                        <option>Отключен</option>
                    </select>
               </div>
          </td>
          <td style="min-width: 150px">
               <div class="form-group mb-0" >
                    <select class="form-control select2-simple select2-success rounded-0"  data-dropdown-css-class="select2-success"  tabindex="-1" aria-hidden="true" >
                        <option></option>
                        <option>Да</option>
                        <option>Нет</option>
                    </select>
               </div>
          </td>
          <td></td>
        </tr>
      </thead>
      <tbody>
        <tr class="border-0">
          <td>1.</td>
          <td>65</td>
          <td>
            <div class="progress progress-xs">
              <div class="progress-bar progress-bar-danger" style="width: 55%"></div>
            </div>
          </td>
          <td><span class="badge bg-danger">55%</span></td>
          <td>Update software</td>
          <td>Update software</td>
          <td>Update software</td>
          <td>Update software</td>
          <td>Update software</td>
          <td class="ps-1 pe-1">
              <div class="btn-group">
                  <a class="btn btn-default" href="#" role="button"><i class="fa-solid fa-envelope"></i></a>
                  <a class="btn btn-default" href="#" role="button"><i class="fa-solid fa-pencil"></i></a>
                  <a class="btn btn-default" href="#" role="button"><i class="fa-solid fa-trash-can"></i></a>
              </div>
          </td>
        </tr>
      </tbody>
   </table>
{% endblock %}

{% block card_footer %}
    <div>
        <ul class="pagination pagination-sm m-0 float-right">
          <li class="page-item"><a class="page-link" href="#">&laquo;</a></li>
          <li class="page-item"><a class="page-link" href="#">1</a></li>
          <li class="page-item"><a class="page-link" href="#">2</a></li>
          <li class="page-item"><a class="page-link" href="#">3</a></li>
          <li class="page-item"><a class="page-link" href="#">&raquo;</a></li>
        </ul>
    </div>
    <hr style="border-top: 1px solid darkgrey;">
    <div>
      <div class="d-flex flex-row flex-wrap"><span>Количество владельцев:&nbsp;</span> <span class="text-bold">172</span></div>
    </div>
    </div>
{% endblock %}


{% block  script_2b %}
    <script type="application/javascript">
        $(document).ready(function () {
             $('#client').DataTable({
                 searching: false,
                 ordering:  false,
                paging: false,
                select: true,
                "bInfo" : false


            });
        });
        $(function() {
          $('input[name="singledatepicker"]').daterangepicker({
            opens: 'center',
            autoUpdateInput: false,
            applyButtonClasses: "btn-success",
            singleDatePicker: true,

            "locale": {
                "format": "DD/MM/YYYY",
                "separator": " - ",
                "applyLabel": "Применить",
                "cancelLabel": "Отменить",
                "fromLabel": "С",
                "toLabel": "По",
                "customRangeLabel": "Custom",
                "weekLabel": "Нд",
                "daysOfWeek": [
                    "Вс",
                    "Пн",
                    "Вт",
                    "Ср",
                    "Чт",
                    "Пт",
                    "Сб"
                ],
                "monthNames": [
                    "Январь",
                    "Февраль",
                    "Март",
                    "Апрель",
                    "Май",
                    "Июнь",
                    "Июль",
                    "Август",
                    "Сентябрь",
                    "Октябрь",
                    "Ноябрь",
                    "Декабрь"
                ],
                "firstDay": 1
          },},);
          $('.singledatepicker').on('apply.daterangepicker', function(ev, picker) {
              $(this).val(picker.startDate.format('DD/MM/YYYY'));
          });
          $('.singledatepicker').on('cancel.daterangepicker', function(ev, picker) {
              $(this).val('');
          });
        });
    </script>
    <script type="module" src="{% static 'admin_panel/client/client.js' %}"></script>
{% endblock %}